---
title: "Project title"
subtitle: "Report"
format: html
editor: visual
execute:
  echo: true
---

# Introduction

Streaming platforms have taken the world by storm due to their convenience and ability to house innumerable popular television shows and movies. As these mediums continue to grow in popularity, discourse about them is also developing and is often centered around one primary question: Which platform is best? Throughout our data analysis, our team seeks to answer this aforementioned question to the best of our ability, taking an in-depth look at four mainstream services ---- Netflix, Amazon Prime Video, Hulu, and Disney+ ---- and the programs that have been present on the site throughout roughly the past two decades. Specifically, we use rankings developed by Rotten Tomatoes and hypothesis testing to approach two research questions: "Is the quality of exclusive shows different from non-exclusive shows in each respective platform?" and "Are exclusive shows' ratings different between the four platforms (Netflix, Hulu, Disney+, and Prime Video)?"

Regarding the first hypothesis, \[INSERT FINDINGS HERE\]. In terms of the second research question, our findings were in favor of the alternate hypothesis: there is some sort of difference in ratings between the exclusive shows on each of the four platforms.

# Data description

# Data analysis

#### ***Second Analysis: Hypothesis Test***

**Research Question:** Are exclusive shows' ratings different between the four platforms (Netflix, Hulu, Disney+, and Prime Video)?

**Null Hypothesis**: There is no difference in quality of the exclusive shows between the four platforms.

$$
H_0 = μ1 = μ2 = μ3 = μ4
$$

**Alternate Hypothesis:** There is a difference in quality of the exclusive shows between the four platforms.

$$
H_A = μ1 ≠ μ2 ≠ μ3 ≠ μ4
$$

```{r}
#| label: data-cleaning-for-exclusivity
library(tidyverse)
library(tidymodels)
library(dplyr)

tv_shows <- read_csv(file = "data/tv_shows.csv")

tv_shows_cleaned <- tv_shows |>
  mutate(Netflix = if_else(Netflix == 1, "Yes", "No"), 
         Hulu = if_else(Hulu == 1, "Yes", "No"),
         `Prime Video` = if_else(`Prime Video` == 1, "Yes", "No"),
         `Disney+` = if_else(`Disney+` == 1, "Yes", "No"),
         `Rotten Tomatoes` = str_remove(`Rotten Tomatoes`, "/100"),
         `Rotten Tomatoes` = parse_integer(`Rotten Tomatoes`)) |>
  mutate(exclusive_netflix = Netflix == "Yes" & Hulu == "No" & `Prime Video` == "No" & `Disney+` == "No",
         exclusive_hulu = Hulu == "Yes" & Netflix == "No" & `Prime Video` == "No" & `Disney+` == "No",
         exclusive_prime_video = `Prime Video` == "Yes" & Netflix == "No" & Hulu == "No" & `Disney+` == "No",
         exclusive_disney_plus = `Disney+` == "Yes" & Netflix == "No" & Hulu == "No" & `Prime Video` == "No")


num_netflix_exclusive <- sum(tv_shows_cleaned$exclusive_netflix == TRUE)
num_hulu_exclusive <- sum(tv_shows_cleaned$exclusive_hulu == TRUE)
num_prime_video_exclusive <- sum(tv_shows_cleaned$exclusive_prime_video == TRUE)
num_disney_plus_exclusive <- sum(tv_shows_cleaned$exclusive_disney_plus == TRUE)

num_netflix_exclusive
num_hulu_exclusive
num_prime_video_exclusive
num_disney_plus_exclusive
```

```{r}
#| label: multivariate-hypothesis

set.seed(123)
observed_fit <- tv_shows_cleaned |>
  specify(`Rotten Tomatoes` ~ exclusive_netflix + exclusive_hulu + exclusive_prime_video + exclusive_disney_plus) |>
  fit()

null_fits <- tv_shows_cleaned |>
  specify(`Rotten Tomatoes` ~ exclusive_netflix + exclusive_hulu + exclusive_prime_video + exclusive_disney_plus) |>
  hypothesize(null = "independence") |>
  generate(reps = 1000, type = "permute") |>
    fit()

get_confidence_interval(
  x = null_fits,
  point_estimate = observed_fit,
  level = .95)

get_p_value(
  x = null_fits,
  obs_stat = observed_fit,
  direction = "two sided"
)

```

# Evaluation of significance

# Interpretation and conclusions

# Limitations

# Acknowledgments
